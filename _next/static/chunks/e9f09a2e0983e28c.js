(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,a,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},8521,e=>{"use strict";var a=e.i(43476),t=e.i(71645);let s=(0,t.createContext)(void 0);function l({children:e}){let[l,r]=(0,t.useState)([]),[i,c]=(0,t.useState)(!1),[n,u]=(0,t.useState)({x:0,y:0}),o=(0,t.useCallback)((e,a)=>{r(a=>a.includes(e)?a:[...a,e]),u(a),c(!0)},[]),h=(0,t.useCallback)(e=>{r(a=>a.filter(a=>a!==e))},[]),d=(0,t.useCallback)(()=>{r([]),c(!1)},[]),b=(0,t.useCallback)(()=>{c(!1)},[]);return(0,a.jsx)(s.Provider,{value:{selectedTags:l,addTag:o,removeTag:h,clearTags:d,isPopupVisible:i,popupPosition:n,hidePopup:b},children:e})}function r(){let e=(0,t.useContext)(s);if(void 0===e)throw Error("useTagSearch must be used within a TagSearchProvider");return e}e.s(["TagSearchProvider",()=>l,"useTagSearch",()=>r])},18566,(e,a,t)=>{a.exports=e.r(76562)},11414,e=>{"use strict";var a=e.i(43476),t=e.i(8521),s=e.i(71645),l=e.i(18566);function r(){let{selectedTags:e,removeTag:r,clearTags:i,isPopupVisible:c,hidePopup:n}=(0,t.useTagSearch)(),u=(0,l.useRouter)(),o=(0,s.useRef)(null),[h,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!c)return;let e=e=>{o.current&&!o.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[c]),(0,s.useEffect)(()=>{if(!c)return;let e=e=>{"Escape"===e.key&&(h?d(!1):i())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[c,h,i]);let b=(0,s.useCallback)(()=>{let a=new URLSearchParams;e.forEach(e=>a.append("tags",e)),u.push(`/search/?${a.toString()}`),i()},[e,u,i]),g=(0,s.useCallback)(()=>{d(!1),i()},[i]),p=(0,s.useCallback)(()=>{d(e=>!e)},[]);return((0,s.useEffect)(()=>{0===e.length&&d(!1)},[e]),c&&0!==e.length)?(0,a.jsxs)("div",{ref:o,className:`tag-search-pill ${h?"tag-search-pill-expanded":""}`,role:"dialog","aria-label":"Search with selected tags",children:[!h&&(0,a.jsxs)("div",{className:"tag-search-pill-compact",children:[(0,a.jsxs)("button",{type:"button",className:"tag-search-pill-toggle",onClick:p,"aria-label":"Expand tag selection",children:[(0,a.jsx)("i",{className:"bi bi-tags-fill","aria-hidden":"true"}),(0,a.jsx)("span",{className:"tag-search-pill-count",children:e.length})]}),(0,a.jsx)("button",{type:"button",className:"tag-search-pill-search",onClick:b,"aria-label":"Search with selected tags",children:(0,a.jsx)("i",{className:"bi bi-search","aria-hidden":"true"})}),(0,a.jsx)("button",{type:"button",className:"tag-search-pill-clear",onClick:g,"aria-label":"Clear all tags",children:(0,a.jsx)("i",{className:"bi bi-x","aria-hidden":"true"})})]}),h&&(0,a.jsxs)("div",{className:"tag-search-pill-details",children:[(0,a.jsxs)("div",{className:"tag-search-pill-header",children:[(0,a.jsxs)("span",{className:"tag-search-pill-title",children:[e.length," tag",1!==e.length?"s":""]}),(0,a.jsx)("button",{type:"button",className:"tag-search-pill-collapse",onClick:p,"aria-label":"Collapse",children:(0,a.jsx)("i",{className:"bi bi-chevron-down","aria-hidden":"true"})})]}),(0,a.jsx)("div",{className:"tag-search-pill-tags",children:e.map(e=>(0,a.jsxs)("span",{className:"tag-search-pill-tag",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>r(e),className:"tag-search-pill-tag-remove","aria-label":`Remove ${e}`,children:(0,a.jsx)("i",{className:"bi bi-x","aria-hidden":"true"})})]},e))}),(0,a.jsxs)("div",{className:"tag-search-pill-actions",children:[(0,a.jsx)("button",{type:"button",className:"tag-search-pill-btn tag-search-pill-btn-clear",onClick:g,children:"Clear"}),(0,a.jsxs)("button",{type:"button",className:"tag-search-pill-btn tag-search-pill-btn-search",onClick:b,children:[(0,a.jsx)("i",{className:"bi bi-search me-1","aria-hidden":"true"}),"Search"]})]})]})]}):null}function i({children:e}){return(0,a.jsxs)(t.TagSearchProvider,{children:[e,(0,a.jsx)(r,{})]})}e.s(["default",()=>i],11414)}]);